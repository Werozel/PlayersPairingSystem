{% extends "main.html" %}


{%  block title %}
        <title>{{ _("Profile") }}</title>
{%  endblock title %}

{% block content %}

    <div class="content-section">
      <div class="media">
        <img class="rounded-circle account-img" width="125" height="125" src="{{ url_for('static', filename='profile_pics/' + user.image_file) }}" alt="none">
        <div class="media-body">
          <h2 class="account-heading">{{ user.name }} {{ user.last_name }}</h2>
          <p class="text-secondary m-bottom-4">{{  user.username }}</p>
          <p class="text-secondary m-bottom-4">{{ _("Age") }}: {{ user.age }}</p>
          <p class="text-secondary m-bottom-4">{{ _("Gender") }}: {{ user.gender }}</p>

        </div>

          {%  if my  %}
            <div class="media-right">
              <a href="{{ url_for('profile_route', action='edit') }}">
                <img title="Edit profile"
                     src="{{ url_for('static', filename='buttons/edit-24px.svg')}}" alt="none"/>
              </a>
            </div>
          {%  else %}
            <div class="media-right">
                {%  if is_friend %}
                      <a href="{{ url_for('profile_route', action='friend_remove', id=user.id) }}">
                        <img title="Remove friend"
                             src="{{ url_for('static', filename='buttons/remove-24px.svg')}}" alt="none"/>
                      </a>
                {% else %}
                    <a href="{{ url_for('profile_route', action='friend_add', id=user.id) }}">
                        <img title="Add friend"
                             src="{{ url_for('static', filename='buttons/add-24px.svg')}}" alt="none"/>
                      </a>
                {%  endif %}
                {%  if chat_id %}
                    <a href="{{ url_for('chats_route', action='show', chat_id=chat_id, user_id=user.id) }}">
                {%  else %}
                    <a href="{{ url_for('chats_route', action='show', user_id=user.id) }}" >
                {%  endif %}
                        <img title="Show chat"
                             src="{{ url_for('static', filename='buttons/chat-24px.svg')}}" alt="none"/>
                      </a>
            </div>
          {%  endif %}

      </div>
        <legend class="border-bottom mb-4"></legend>
        <div class="container padding-left-0">
            {% if user.sport %}
                <h5 class="align-left">{{ _("Sports") }}: </h5>
                <div class="align-left col-sm-12">
                    {% for sport in user.sport %}
                    <p class="m-bottom-4">
                        <a href="{{ url_for('search_group_route', sport=sport)}}" class="text-secondary"> {{ sport }}</a>
                    </p>
                    {% endfor %}
                </div>
            {% else %}
                <p>{{ _("No sport added yet!") }}</p>
            {% endif %}
        </div>
            {% if groups %}
            <legend class="border-bottom mb-4 mt-2"></legend>
            <div class="container padding-left-0">
                <h5 class="align-left">{{ _("Groups") }}: </h5>
                <div class="align-left col-sm-12">
                    {% for group in groups %}
                        <p class="m-bottom-4">
                            <a href="{{ url_for('group_route', id=group.id, action='show')}}" class="text-secondary"> {{ group.name }}</a>
                        </p>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

        {% if friends %}
            <legend class="border-bottom mb-4 mt-2"></legend>
            <div class="container padding-left-0">
                <h5 class="align-left">{{ _("Friends") }}: </h5>
                <div class="align-left col-sm-12">
                    {% for friend in friends %}
                        <p class="m-bottom-4">
                            <a href="{{ url_for('profile_route', id=friend.id, action='show')}}" class="text-secondary">
                            {{ friend.name }} {{ friend.last_name }}</a>
                        </p>
                    {% endfor %}
                </div>
            </div>
            {% endif %}


    </div>
{% endblock content %}